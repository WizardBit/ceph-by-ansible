[all]
%{ for i in mons ~}
${i.name} ansible_host=${
  openstack_designate ? "${i.name}.${domain}" : i.network[0].fixed_ip_v4 }
  ansible_connection=ssh ansible_user=${ansible_user}
%{ endfor ~}
%{ for i in osds ~}
${i.name} ansible_host=${
  openstack_designate ? "${i.name}.${domain}" : i.network[0].fixed_ip_v4 }
  ansible_connection=ssh ansible_user=${ansible_user}
%{ endfor ~}

[admin]
${mons[0].name}

[mon]
%{ for i in mons ~}
${i.name}
%{ endfor ~}

[mgr]
%{ for i in mons ~}
${i.name}
%{ endfor ~}

[mds]
%{ for i in mons ~}
${i.name}
%{ endfor ~}

[osd]
%{ for i in osds ~}
${i.name} osd_disks='["${osd_1_device}", "${osd_2_device}"]'
%{ endfor ~}

[rgw]
${mons[0].name}

